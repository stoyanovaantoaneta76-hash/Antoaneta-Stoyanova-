# Training Configuration with S3/MinIO Output
# This example saves the trained profile to S3/MinIO storage

[api]
adaptive_api_key = "${ADAPTIVE_API_KEY}"

[dataset]
path = "train/examples/datasets/minimal_qa.parquet"
type = "parquet"
input_column = "input"
expected_column = "expected_output"

# Define models (hybrid: some with pricing, some without)
[[models]]
provider = "openai"
model_name = "gpt-4"
cost_per_1m_input_tokens = 30.0
cost_per_1m_output_tokens = 60.0

[[models]]
provider = "openai"
model_name = "gpt-3.5-turbo"
# Pricing will be fetched from API

# Provider configurations
[providers.openai]
api_key = "${OPENAI_API_KEY}"
timeout = 60.0

# Training parameters
[training]
n_clusters = 20
max_parallel = 10

# Output to S3/MinIO
[output]
path = "profile_s3.json"
storage_type = "s3"

[output.s3]
endpoint_url = "https://s3.amazonaws.com"  # Or MinIO endpoint
access_key_id = "${AWS_ACCESS_KEY_ID}"
secret_access_key = "${AWS_SECRET_ACCESS_KEY}"
bucket_name = "adaptive-router-profiles"
region = "us-east-1"
profile_key = "profiles/my-profile.json"
